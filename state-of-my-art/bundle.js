!function(e){function t(t){for(var n,o,i=t[0],a=t[1],u=0,d=[];u<i.length;u++)o=i[u],r[o]&&d.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);d.length;)d.shift()()}var n={},r={0:0};var o={};var i={2:function(){return{"./image_evol":{__wbindgen_object_drop_ref:function(e){return n[1].exports.__wbindgen_object_drop_ref(e)},__wbindgen_string_new:function(e,t){return n[1].exports.__wbindgen_string_new(e,t)},__widl_f_log_1_:function(e){return n[1].exports.__widl_f_log_1_(e)},__wbg_new_886f15c1b20b061b:function(e,t){return n[1].exports.__wbg_new_886f15c1b20b061b(e,t)},__wbg_call_a2b503e0ee1234e4:function(e,t){return n[1].exports.__wbg_call_a2b503e0ee1234e4(e,t)},__wbindgen_jsval_eq:function(e,t){return n[1].exports.__wbindgen_jsval_eq(e,t)},__wbg_self_ddd2d80076091e5f:function(e){return n[1].exports.__wbg_self_ddd2d80076091e5f(e)},__wbg_require_86edd37cfda5f13d:function(e,t){return n[1].exports.__wbg_require_86edd37cfda5f13d(e,t)},__wbg_crypto_4b7669ff1793d881:function(e){return n[1].exports.__wbg_crypto_4b7669ff1793d881(e)},__wbindgen_is_undefined:function(e){return n[1].exports.__wbindgen_is_undefined(e)},__wbg_getRandomValues_6de85818bd2ad699:function(e){return n[1].exports.__wbg_getRandomValues_6de85818bd2ad699(e)},__wbg_getRandomValues_95cef5eed1acafda:function(e,t,r){return n[1].exports.__wbg_getRandomValues_95cef5eed1acafda(e,t,r)},__wbg_randomFillSync_571502126f344d60:function(e,t,r){return n[1].exports.__wbg_randomFillSync_571502126f344d60(e,t,r)},__wbindgen_throw:function(e,t){return n[1].exports.__wbindgen_throw(e,t)},__wbindgen_memory:function(){return n[1].exports.__wbindgen_memory()}}}}};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var u=new Promise(function(t,o){n=r[e]=[t,o]});t.push(n[2]=u);var d,_=document.createElement("script");_.charset="utf-8",_.timeout=120,a.nc&&_.setAttribute("nonce",a.nc),_.src=function(e){return a.p+""+e+".bundle.js"}(e),d=function(t){_.onerror=_.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,n[1](a)}r[e]=void 0}};var c=setTimeout(function(){d({type:"timeout",target:_})},12e4);_.onerror=_.onload=d,document.head.appendChild(_)}return({1:[2]}[e]||[]).forEach(function(e){var n=o[e];if(n)t.push(n);else{var r,u=i[e](),d=fetch(a.p+""+{2:"3afdeb8f72960fa9cd4c"}[e]+".module.wasm");if(u instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)r=Promise.all([WebAssembly.compileStreaming(d),u]).then(function(e){return WebAssembly.instantiate(e[0],e[1])});else if("function"==typeof WebAssembly.instantiateStreaming)r=WebAssembly.instantiateStreaming(d,u);else{r=d.then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e,u)})}t.push(o[e]=r.then(function(t){return a.w[e]=(t.instance||t).exports}))}}),Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e},a.w={};var u=window.webpackJsonp=window.webpackJsonp||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var _=0;_<u.length;_++)t(u[_]);var c=d;a(a.s=0)}([function(e,t,n){n.e(1).then(n.bind(null,1)).then(e=>{!function(e){let t={canvas:document.getElementById("canvas"),canvas2:document.getElementById("canvas2"),canvasShrink:document.getElementById("canvas-shrink"),buttonWASM:document.getElementById("button-wasm"),uiIterations:document.getElementById("ui-iterations"),uiError:document.getElementById("ui-error")},{width:n,height:a}=r;console.time("RandomImage.new");let u=e.RandomImage.new_with_gene_count(n,a,3);console.timeEnd("RandomImage.new"),console.time("RandomImage.render"),u.render(),console.timeEnd("RandomImage.render"),function(e,t,n){let r=t.width(),o=t.height();e.width=r,e.height=o;let i=n.get_memory(),a=t.pixels(),u=new Uint8ClampedArray(i.buffer,a,4*t.size()),d=new ImageData(u,r,o);e.getContext("2d").putImageData(d,0,0)}(t.canvas,u,e);let{width:d,height:_}=o,c=(u.shrink(d,_),function(e,t){let n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height).data}(document.getElementById("image"),t.canvas)),s=e.Population.new(n,a,c,o.width,o.height);for(let e=0;e<i;e++)s.add_member();t.buttonWASM.addEventListener("click",()=>{requestAnimationFrame(g)});let f=0,l=1/0;function g(){if(++f>l)return;let r=s.best_fitness();!function(e,t,n,r,o){e.width=n,e.height=r;let i=o.get_memory(),a=new Uint8ClampedArray(i.buffer,t,4*n*r),u=new ImageData(a,n,r);e.getContext("2d").putImageData(u,0,0)}(t.canvas2,s.best_pixels(),n,a,e),s.evolve(),function({uiIterations:e,uiError:t},n,r){e.textContent=`Iterations: ${n}`,t.textContent=`Err: ${r}`}(t,f,r),requestAnimationFrame(g)}}(e)});const r={width:300,height:300},o={width:75,height:75},i=10}]);